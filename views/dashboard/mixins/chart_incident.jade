

mixin chartIncident(title,prio,dateField,customer)
	- var chart = "chart"+prio+"-"+dateField;
	div.row(style="margin:auto;max-width:1200px")
		div.panel.panel-default
			div.panel-heading 
				img(src="/images/incidents/#{prio}.png" style="margin-top:-10px;margin-right:10px" height="30px")
				span(style="color:black;font-size:24px;font-weight:bold") #{title}&nbsp;
				if customer
					span(style="color:black;font-size:18px;font-weight:normal") filtered for: #{customer} 
				span(style="color:black;font-size:14px;font-weight:normal") #{dateField}
				|&nbsp;|&nbsp;
				span(id="aggregate_#{chart}" style="font-weight:bold") 
				|&nbsp;|&nbsp;for period: #{moment(to).year()}
				//span(id="period_#{chart}" style="color:black;font-weight:bold")
				//span(id="fromto_#{chart}" style="color:black;font-weight:bold")
			div.panel-body
				.btn-group
					a.btn.btn-default(href='javascript:void(0)') Aggregation
					a.btn.btn-default.dropdown-toggle(href='bootstrap-elements.html', data-target='#', data-toggle='dropdown')
						span.caret
						ul.dropdown-menu
							li
								a.dropdown.incidentstrend(id="#{chart}_#{customer}_aggregate-day") daily
							li
								a.dropdown.incidentstrend(id="#{chart}_#{customer}_aggregate-week") weekly
							li
								a.dropdown.incidentstrend(id="#{chart}_#{customer}_aggregate-month") monthly
							li
								a.dropdown.incidentstrend(id="#{chart}_#{customer}_aggregate-quarter") quarterly
							li
								a.dropdown.incidentstrend(id="#{chart}_#{customer}_aggregate-halfyear") halfyearly
							li
								a.dropdown.incidentstrend(id="#{chart}_#{customer}_aggregate-year") yearly

				div(style="font-size:28px;text-align:right")
					span(style="font-size:18px;text-align:right") total:&nbsp;
					span(id="#{chart}_sum" style="font-size:28px;text-align:right;font-weight:bold")
				div(style="font-size:28px;text-align:right")
					span(style="font-size:18px;text-align:right") prev:&nbsp;
					span(id="#{chart}_sumPrev" style="font-size:28px;text-align:right;font-weight:bold")					
					
				div(id="#{chart}" style="text-align:center")
					svg
	script.
		init("#{prio}","#{dateField}","#{chart}","#{subDimension}","#{customer}");



mixin chartIncidentOLD(title,prio,dateField,customer)
	- var chart = "chart"+prio+"-"+dateField;
	div.row(style="margin:auto;max-width:1200px")
		div.panel.panel-default
			div.panel-heading 
				img(src="/images/incidents/#{prio}.png" style="margin-top:-10px;margin-right:10px" height="30px")
				span(style="color:black;font-size:24px;font-weight:bold") #{title}&nbsp;
				if customer
					span(style="color:black;font-size:18px;font-weight:normal") filtered for: #{customer} 
				span(style="color:black;font-size:14px;font-weight:normal") #{dateField}
				|&nbsp;|&nbsp;
				span(id="aggregate_#{chart}" style="font-weight:bold") 
				|&nbsp;|&nbsp;for period: 
				span(id="period_#{chart}" style="color:black;font-weight:bold")
			div.panel-body
				.btn-group
					a.btn.btn-default(href='javascript:void(0)') Quarter
					a.btn.btn-default.dropdown-toggle(href='bootstrap-elements.html', data-target='#', data-toggle='dropdown')
						span.caret
						ul.dropdown-menu
							li
								a.dropdown.incidentstrend(id="#{chart}_q1-2014") Q1-2014
							li
								a.dropdown.incidentstrend(id="#{chart}_q2-2014") Q2-2014
							li
								a.dropdown.incidentstrend(id="#{chart}_q3-2014") Q3-2014
							li
								a.dropdown.incidentstrend(id="#{chart}_q4-2014") Q4-2014
							li
								a.dropdown.incidentstrend(id="#{chart}_q1-2015") Q1-2015
							li
								a.dropdown.incidentstrend(id="#{chart}_q2-2015") Q2-2015
							li
								a.dropdown.incidentstrend(id="#{chart}_q3-2015") Q3-2015
				.btn-group
					a.btn.btn-default(href='javascript:void(0)') HalfYear
					a.btn.btn-default.dropdown-toggle(href='bootstrap-elements.html', data-target='#', data-toggle='dropdown')
						span.caret
						ul.dropdown-menu
							li
								a.dropdown.incidentstrend(id="#{chart}_h1-2014") H1-2014
							li
								a.dropdown.incidentstrend(id="#{chart}_h2-2014") H2-2014
							li
								a.dropdown.incidentstrend(id="#{chart}_h1-2015") H1-2015
				.btn-group
					a.btn.btn-default(href='javascript:void(0)') Year
					a.btn.btn-default.dropdown-toggle(href='bootstrap-elements.html', data-target='#', data-toggle='dropdown')
						span.caret
						ul.dropdown-menu
							li
								a.dropdown.incidentstrend(id="#{chart}_2014") 2014
							li
								a.dropdown.incidentstrend(id="#{chart}_2015") 2015

				.btn-group
					a.btn.btn-default(href='javascript:void(0)') Aggregation
					a.btn.btn-default.dropdown-toggle(href='bootstrap-elements.html', data-target='#', data-toggle='dropdown')
						span.caret
						ul.dropdown-menu
							li
								a.dropdown.incidentstrend(id="#{chart}_aggregate-day") daily
							li
								a.dropdown.incidentstrend(id="#{chart}_aggregate-week") weekly
							li
								a.dropdown.incidentstrend(id="#{chart}_aggregate-month") monthly
							li
								a.dropdown.incidentstrend(id="#{chart}_aggregate-quarter") quarterly
							li
								a.dropdown.incidentstrend(id="#{chart}_aggregate-halfyear") halfyearly
							li
								a.dropdown.incidentstrend(id="#{chart}_aggregate-year") yearly

				div(style="font-size:28px;text-align:right")
					span(style="font-size:18px;text-align:right") total:&nbsp;
					span(id="#{chart}_sum" style="font-size:28px;text-align:right;font-weight:bold")
				div(style="font-size:28px;text-align:right")
					span(style="font-size:18px;text-align:right") prev:&nbsp;
					span(id="#{chart}_sumPrev" style="font-size:28px;text-align:right;font-weight:bold")					
					
				div(id="#{chart}" style="text-align:center")
					svg
	script.
		init("#{prio}","#{dateField}","#{chart}","#{subDimension}","#{customer}");



					
mixin chartIncidentActiveTicker(title,id)
	- var chart = "chart"+id;
	div.row(style="margin:auto;max-width:1000px")
		div.panel.panel-default
			div.panel-heading 
				span(style="color:black;font-size:24px;font-weight:bold") #{title} &nbsp;
				
			div.panel-body
				div(id="#{chart}" style="text-align:center")
					svg					
				
				div
					table(style="margin-left:60px;max-width:800px")
						tr(style="line-height:60px")
							td(style="padding-left:30px;font-size:14px;text-align:left;max-width:100px;vertical-align:top")
								img(src="/images/incidents/P01.png" height="50px") 
							td(style="padding-left:5px;text-align:right;vertical-align:bottom")
								span(id="#{chart}_P01" style="font-size:44px;text-align:right;font-weight:normal") #{ticker.totals.P01-ticker.totalsResolved.P01}
							
							td(style="padding-left:30px;font-size:14px;text-align:left;vertical-align:top")
								img(src="/images/incidents/P08.png" height="50px") 
							td(style="padding-left:5px;text-align:right;vertical-align:bottom")
								span(id="#{chart}_P08" style="font-size:44px;text-align:right;font-weight:normal") #{ticker.totals.P08-ticker.totalsResolved.P08}
							
							td(style="padding-left:30px;font-size:14px;text-align:left;vertical-align:top")
								img(src="/images/incidents/P16.png" height="50px") 
							td(style="padding-left:5px;text-align:right;vertical-align:bottom")
								span(id="#{chart}_P16" style="font-size:44px;text-align:right;font-weight:normal") #{ticker.totals.P16-ticker.totalsResolved.P16}
							
							td(style="padding-left:30px;font-size:14px;text-align:left;vertical-align:top")
								img(src="/images/incidents/P120.png" height="50px") 
							td(style="padding-left:5px;text-align:right;vertical-align:bottom")
								span(id="#{chart}_P120" style="font-size:44px;text-align:right;font-weight:normal") #{ticker.totals.P120-ticker.totalsResolved.P120}
				br
				div(id="ticker" style="font-size:7px")
	script.
		init("#{prio}","#{dateField}","#{chart}","#{subDimension}");



	
